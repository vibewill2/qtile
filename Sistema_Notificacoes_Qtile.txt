================================================================================
                   SISTEMA DE NOTIFICA√á√ïES QTILE - DOCUMENTA√á√ÉO COMPLETA
================================================================================

Data de Instala√ß√£o: 02/10/2025
Sistema: Fedora Linux
Usu√°rio: vibewill
Daemon: Dunst 1.12.2

================================================================================
                              RESUMO DO PROJETO
================================================================================

Foi implementado um sistema completo de notifica√ß√µes no Qtile usando o Dunst,
incluindo configura√ß√£o personalizada, widget na barra e integra√ß√£o com o
power menu para feedback visual das a√ß√µes do sistema.

================================================================================
                           DEPEND√äNCIAS INSTALADAS
================================================================================

1. DUNST (Daemon de Notifica√ß√µes):
   - Vers√£o: 1.12.2-1.fc42
   - Depend√™ncia: libXScrnSaver
   - Comando: sudo dnf install -y dunst
   - Localiza√ß√£o: /usr/bin/dunst

2. J√Å EXISTENTES:
   - notify-send (libnotify) - /usr/bin/notify-send
   - √çcones Adwaita Legacy (/usr/share/icons/AdwaitaLegacy/)

================================================================================
                             ARQUIVOS CRIADOS
================================================================================

1. CONFIGURA√á√ÉO DO DUNST:
   üìÅ Localiza√ß√£o: /home/vibewill/.config/dunst/dunstrc
   üìã Descri√ß√£o: Configura√ß√£o personalizada do daemon de notifica√ß√µes
   üé® Tema: Escuro consistente com a barra do Qtile
   üîß Fun√ß√£o: Define apar√™ncia, posi√ß√£o e comportamento das notifica√ß√µes

2. DOCUMENTA√á√ÉO:
   üìÅ Localiza√ß√£o: /home/vibewill/Documentos/Sistema_Notificacoes_Qtile.txt
   üìã Descri√ß√£o: Este arquivo de documenta√ß√£o
   üîß Fun√ß√£o: Refer√™ncia completa do sistema

================================================================================
                         ARQUIVOS MODIFICADOS
================================================================================

1. AUTOSTART DO QTILE:
   üìÅ Arquivo: /home/vibewill/.config/qtile/autostart.sh
   üìù Modifica√ß√£o: Adicionado "dunst &" para iniciar automaticamente

2. CONFIGURA√á√ÉO DO QTILE:
   üìÅ Arquivo: /home/vibewill/.config/qtile/config.py
   üìù Modifica√ß√£o: Adicionado widget de notifica√ß√£o (üîî) na barra
   üìç Localiza√ß√£o: Entre Volume e Bot√£o de Desligar

3. POWER MENU:
   üìÅ Arquivo: /home/vibewill/.config/qtile/power-menu.sh
   üìù Modifica√ß√£o: Adicionadas notifica√ß√µes para a√ß√µes do sistema

================================================================================
                          CONFIGURA√á√ÉO DO DUNST
================================================================================

APAR√äNCIA:
   - Tema escuro (#2b2b2b) consistente com Qtile
   - Bordas arredondadas (corner_radius = 10)
   - Frame azul (#4a9eff) como destaque
   - Transpar√™ncia sutil (transparency = 10)

POSICIONAMENTO:
   - Posi√ß√£o: Canto superior direito
   - Offset: (10, 50) - 10px da direita, 50px do topo
   - Largura: 350px
   - Altura: Din√¢mica (0, 200) - m√≠nimo 0, m√°ximo 200px

TIPOGRAFIA:
   - Fonte: Arial 11
   - Formato: T√≠tulo em negrito + corpo
   - Alinhamento: Esquerda
   - Quebra autom√°tica de linha

√çCONES:
   - Tema: Adwaita Legacy
   - Posi√ß√£o: Esquerda do texto
   - Tamanho: 32-64px
   - Busca recursiva habilitada

TIMEOUTS:
   - Baixa urg√™ncia: 5 segundos
   - Normal: 8 segundos  
   - Cr√≠tica: Infinito (at√© clicar)

CORES POR URG√äNCIA:
   - Baixa: Fundo escuro, texto verde (#00ff00)
   - Normal: Fundo escuro, texto branco (#ffffff)
   - Cr√≠tica: Fundo vermelho (#ff5555), texto preto

================================================================================
                            WIDGET NA BARRA
================================================================================

APAR√äNCIA:
   - √çcone: üîî (sino)
   - Cor de fundo: Ciano (colors["cyan"])
   - Estilo: Arredondado consistente com outros widgets
   - Posi√ß√£o: Entre Volume e Bot√£o de Desligar

FUNCIONALIDADES:
   - Clique esquerdo: dunstctl history-pop (mostra √∫ltima notifica√ß√£o)
   - Clique direito: dunstctl close-all (fecha todas as notifica√ß√µes)
   - Visual: Sempre vis√≠vel como indicador do sistema

C√ìDIGO ADICIONADO:
   ```python
   # Notifica√ß√µes
   create_rounded_widget(
       widget.TextBox,
       colors["cyan"],
       "#000000",
       text="üîî",
       fontsize=14,
       mouse_callbacks={
           'Button1': lazy.spawn('dunstctl history-pop'),
           'Button3': lazy.spawn('dunstctl close-all')
       }
   ),
   ```

================================================================================
                        INTEGRA√á√ÉO COM POWER MENU
================================================================================

NOTIFICA√á√ïES ADICIONADAS:
   üîí Bloquear: "üîí Sistema Bloqueado" - "Tela bloqueada com sucesso"
   üè† Logout: "üè† Logout" - "Saindo do Qtile..."
   üí§ Suspender: "üí§ Suspendendo" - "Sistema entrando em suspens√£o..."

MELHORIAS:
   - Feedback visual para todas as a√ß√µes
   - Delays apropriados para a√ß√µes cr√≠ticas
   - √çcones emoji consistentes
   - N√≠veis de urg√™ncia apropriados

================================================================================
                               COMO USAR
================================================================================

1. NOTIFICA√á√ïES AUTOM√ÅTICAS:
   - Sistema inicia dunst automaticamente
   - Aplica√ß√µes podem enviar notifica√ß√µes
   - Aparecem no canto superior direito

2. COMANDOS MANUAIS:
   # Notifica√ß√£o simples
   notify-send "T√≠tulo" "Mensagem"
   
   # Com urg√™ncia
   notify-send "T√≠tulo" "Mensagem" -u critical
   
   # Com √≠cone
   notify-send "T√≠tulo" "Mensagem" -i dialog-information

3. CONTROLES DO WIDGET:
   - Clique esquerdo no üîî: Mostra √∫ltima notifica√ß√£o
   - Clique direito no üîî: Fecha todas as notifica√ß√µes

4. CONTROLES DE TECLADO (nas notifica√ß√µes):
   - Clique esquerdo: Fecha notifica√ß√£o atual
   - Clique do meio: Executa a√ß√£o + fecha
   - Clique direito: Fecha todas

================================================================================
                               COMANDOS √öTEIS
================================================================================

CONTROLE DO DUNST:
   dunst &                          # Iniciar dunst
   killall dunst                    # Parar dunst
   dunstctl close                   # Fechar notifica√ß√£o atual
   dunstctl close-all               # Fechar todas
   dunstctl history-pop             # Mostrar √∫ltima do hist√≥rico
   dunstctl set-paused true         # Pausar notifica√ß√µes
   dunstctl set-paused false        # Despausar notifica√ß√µes

ENVIAR NOTIFICA√á√ïES:
   notify-send "Teste"              # Simples
   notify-send "T√≠tulo" "Corpo"     # Com t√≠tulo e corpo
   notify-send -u low "Baixa"       # Baixa urg√™ncia
   notify-send -u normal "Normal"   # Normal (padr√£o)
   notify-send -u critical "Cr√≠tico" # Cr√≠tico
   notify-send -t 5000 "5 segundos" # Timeout personalizado

TESTE COMPLETO:
   notify-send "‚úÖ Sucesso" "Tudo funcionando!" -u low
   notify-send "‚ö†Ô∏è Aviso" "Aten√ß√£o necess√°ria" -u normal  
   notify-send "üö® Erro" "Problema cr√≠tico!" -u critical

================================================================================
                           PERSONALIZA√á√ÉO
================================================================================

1. MUDAR POSI√á√ÉO DAS NOTIFICA√á√ïES:
   - Editar ~/.config/dunst/dunstrc
   - origin = top-left | top-right | bottom-left | bottom-right
   - offset = (x, y) - dist√¢ncia das bordas

2. MUDAR CORES:
   - [urgency_normal] background = "#nova_cor"
   - [urgency_critical] frame_color = "#nova_cor"

3. MUDAR TIMEOUTS:
   - timeout = segundos (0 = infinito)

4. MUDAR WIDGET:
   - Editar config.py, linha ~401
   - Trocar "üîî" por outro √≠cone
   - Mudar colors["cyan"] por outra cor

5. ADICIONAR REGRAS ESPEC√çFICAS:
   [nome_app]
   appname = "Nome do App"
   background = "#cor"
   foreground = "#cor"

================================================================================
                          RESOLU√á√ÉO DE PROBLEMAS
================================================================================

PROBLEMA: Notifica√ß√µes n√£o aparecem
SOLU√á√ÉO:
   1. Verificar se dunst est√° rodando: ps aux | grep dunst
   2. Iniciar manualmente: dunst &
   3. Testar: notify-send "Teste"

PROBLEMA: Configura√ß√£o n√£o aplicada
SOLU√á√ÉO:
   1. Reiniciar dunst: killall dunst && dunst &
   2. Verificar sintaxe do dunstrc
   3. Ver logs: journalctl -f | grep dunst

PROBLEMA: Widget n√£o aparece na barra
SOLU√á√ÉO:
   1. Recarregar Qtile: qtile cmd-obj -o cmd -f reload_config
   2. Verificar sintaxe do config.py
   3. Ver se create_rounded_widget est√° definida

PROBLEMA: √çcones n√£o aparecem
SOLU√á√ÉO:
   1. Verificar caminhos dos √≠cones no dunstrc
   2. Instalar √≠cones: sudo dnf install adwaita-icon-theme
   3. Atualizar icon_path no dunstrc

PROBLEMA: Erro "height has changed behaviour"
SOLU√á√ÉO:
   1. Usar nova sintaxe: height = (0, 200)
   2. Atualizar offset: offset = (10, 50)

================================================================================
                            REGRAS ESPECIAIS
================================================================================

APLICA√á√ïES CONFIGURADAS:
   - Spotify: Fundo verde (#1db954)
   - Volume: Fundo azul (#6272a4)
   - Battery: Fundo laranja (#ffb86c)  
   - Network: Fundo ciano (#8be9fd)

CORRESPOND√äNCIA:
   - Por appname (nome do aplicativo)
   - Por summary (palavra no t√≠tulo)
   - Cores espec√≠ficas por categoria

EXEMPLO DE NOVA REGRA:
   [steam]
   appname = "Steam"
   background = "#1b2838"
   foreground = "#66c0f4"

================================================================================
                              ESTRUTURA T√âCNICA
================================================================================

ARQUITETURA:
   1. Dunst (daemon) escuta notifica√ß√µes D-Bus
   2. Aplica regras baseadas na configura√ß√£o
   3. Exibe notifica√ß√µes com tema personalizado
   4. Widget permite controle manual

INTEGRA√á√ÉO QTILE:
   - Autostart inicia dunst com o sistema
   - Widget na barra para controle
   - Power menu envia notifica√ß√µes de feedback
   - Configura√ß√£o consistente com tema

DEPEND√äNCIAS D-BUS:
   - org.freedesktop.Notifications
   - Protocolo padr√£o para notifica√ß√µes Linux
   - Compat√≠vel com todas as aplica√ß√µes

================================================================================
                               LOCALIZA√á√ÉO DOS ARQUIVOS
================================================================================

CONFIGURA√á√ÉO DUNST:
   /home/vibewill/.config/dunst/dunstrc

QTILE:
   /home/vibewill/.config/qtile/config.py (widget na barra)
   /home/vibewill/.config/qtile/autostart.sh (inicializa√ß√£o)
   /home/vibewill/.config/qtile/power-menu.sh (notifica√ß√µes power)

DOCUMENTA√á√ÉO:
   /home/vibewill/Documentos/Sistema_Notificacoes_Qtile.txt

LOGS:
   journalctl -u dunst (se usar systemd)
   ~/.local/share/dunst/ (poss√≠veis logs locais)

================================================================================
                                BACKUP/RESTORE
================================================================================

BACKUP COMPLETO:
   tar -czf notificacoes-backup.tar.gz \
       ~/.config/dunst/ \
       ~/.config/qtile/autostart.sh \
       ~/.config/qtile/power-menu.sh

RESTAURAR:
   tar -xzf notificacoes-backup.tar.gz -C ~/
   killall dunst 2>/dev/null
   dunst &
   qtile cmd-obj -o cmd -f reload_config

ARQUIVOS CR√çTICOS:
   ~/.config/dunst/dunstrc (configura√ß√£o principal)
   ~/.config/qtile/config.py (widget na barra)

================================================================================
                                  CR√âDITOS
================================================================================

DAEMON: Dunst Project (https://dunst-project.org/)
GERENCIADOR: Qtile Window Manager
√çCONES: Adwaita Icon Theme
SISTEMA: Fedora Linux
PROTOCOLO: D-Bus Notifications

================================================================================
                                   VERS√ÉO
================================================================================

Vers√£o: 1.0
Data: 02/10/2025 00:32
Dunst: 1.12.2
Qtile: Integrado
Testado: Fedora Linux + Wayland

================================================================================
                              STATUS FINAL
================================================================================

‚úÖ Dunst instalado e configurado
‚úÖ Tema escuro aplicado
‚úÖ Widget na barra funcionando
‚úÖ Power menu com notifica√ß√µes
‚úÖ Autostart configurado
‚úÖ Testes realizados com sucesso

SISTEMA OPERACIONAL! Use notify-send para testar ou clique no üîî na barra!

================================================================================
                                    FIM
================================================================================